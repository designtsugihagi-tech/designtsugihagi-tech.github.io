<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVG Outline Animation - Line Fill Fixed</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        /* ベース設定 */
        :root {
            /* 全体の時間 (25秒)
             * 1% = 0.25秒
             */
            --total-duration: 25s;
            
            --main-font: 'Noto Serif JP', serif;
            --bg-color: #ffffff;
            --card-bg: transparent;
            --text-color: #4a4a4a;
        }

        body {
            background-color: var(--bg-color);
            font-family: var(--main-font);
            margin: 0;
            padding: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            box-sizing: border-box;
        }

        .card {
            background-color: var(--card-bg);
            width: 100%;
            max-width: 1000px;
            aspect-ratio: 16/9;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }

        .outline-svg {
            width: 90%;
            height: auto;
            overflow: visible;
        }
        
        /* 親要素(グループ) */
        .outline-group {
            animation: parentFade var(--total-duration) linear infinite;
        }

        /* テキスト設定 */
        .outline-text {
            font-size: 90px;
            font-weight: 900;
            text-anchor: start;
        }

        /* 文字のアニメーション共通 */
        .outline-text tspan {
            fill: var(--text-color);
            fill-opacity: 0;
            stroke: var(--text-color);
            stroke-width: 1px;
            stroke-dasharray: 600;
            stroke-dashoffset: 600;
            animation-duration: var(--total-duration);
            animation-timing-function: linear;
            animation-iteration-count: infinite;
        }

        /* 罫線（ボーダー）の設定 */
        .border-line {
            fill: none;
            stroke: var(--text-color);
            stroke-width: 1px;
            stroke-dasharray: 2400;
            stroke-dashoffset: 2400;
            animation: borderDraw var(--total-duration) linear infinite;
        }

        /* 各文字のアニメーション割り当て */
        .outline-text tspan:nth-child(1) { animation-name: char01; }
        .outline-text tspan:nth-child(2) { animation-name: char02; }
        .outline-text tspan:nth-child(3) { animation-name: char03; }
        .outline-text tspan:nth-child(4) { animation-name: char04; }
        .outline-text tspan:nth-child(5) { animation-name: char05; }
        .outline-text tspan:nth-child(6) { animation-name: char06; }
        
        .outline-text tspan:nth-child(7) { animation-name: char07; }
        .outline-text tspan:nth-child(8) { animation-name: char08; }
        .outline-text tspan:nth-child(9) { animation-name: char09; }
        .outline-text tspan:nth-child(10) { animation-name: char10; }
        .outline-text tspan:nth-child(11) { animation-name: char11; }
        .outline-text tspan:nth-child(12) { animation-name: char12; }
        .outline-text tspan:nth-child(13) { animation-name: char13; }
        .outline-text tspan:nth-child(14) { animation-name: char14; }

        /* * キーフレーム定義 (Total 25s)
         * 1% = 0.25s
         * * [アウトライン設定]
         * 描画時間: 8% (2s)
         * 単語ごとに開始
         *
         * * [塗り設定] 行ごとに一括
         * Line 1 (Char 1-6):  開始 14% (3.5s) -> 終了 18% (4.5s)
         * Line 2 (Char 7-14): 開始 20% (5.0s) -> 終了 24% (6.0s)
         * ※Line 2の全文字で 20% -> 24% の区間を統一しました。
         */
        
        /* --- Line 1 (Fill: 14% -> 18%) --- */

        /* 1: 風 (Outline: 0% -> 8%) */
        @keyframes char01 {
            0% { stroke-dashoffset: 600; fill-opacity: 0; }
            8% { stroke-dashoffset: 0; fill-opacity: 0; }
            14% { stroke-dashoffset: 0; fill-opacity: 0; }
            18% { stroke-dashoffset: 0; fill-opacity: 1; }
            100% { stroke-dashoffset: 0; fill-opacity: 1; }
        }
        /* 2: 花 (Outline: 0% -> 8%) */
        @keyframes char02 {
            0% { stroke-dashoffset: 600; fill-opacity: 0; }
            8% { stroke-dashoffset: 0; fill-opacity: 0; }
            14% { stroke-dashoffset: 0; fill-opacity: 0; }
            18% { stroke-dashoffset: 0; fill-opacity: 1; }
            100% { stroke-dashoffset: 0; fill-opacity: 1; }
        }
        /* 3: と (Outline: 2% -> 10%) */
        @keyframes char03 {
            0%, 2% { stroke-dashoffset: 600; fill-opacity: 0; }
            10% { stroke-dashoffset: 0; fill-opacity: 0; }
            14% { stroke-dashoffset: 0; fill-opacity: 0; }
            18% { stroke-dashoffset: 0; fill-opacity: 1; }
            100% { stroke-dashoffset: 0; fill-opacity: 1; }
        }
        /* 4: 水 (Outline: 4% -> 12%) */
        @keyframes char04 {
            0%, 4% { stroke-dashoffset: 600; fill-opacity: 0; }
            12% { stroke-dashoffset: 0; fill-opacity: 0; }
            14% { stroke-dashoffset: 0; fill-opacity: 0; }
            18% { stroke-dashoffset: 0; fill-opacity: 1; }
            100% { stroke-dashoffset: 0; fill-opacity: 1; }
        }
        /* 5: 月 (Outline: 4% -> 12%) */
        @keyframes char05 {
            0%, 4% { stroke-dashoffset: 600; fill-opacity: 0; }
            12% { stroke-dashoffset: 0; fill-opacity: 0; }
            14% { stroke-dashoffset: 0; fill-opacity: 0; }
            18% { stroke-dashoffset: 0; fill-opacity: 1; }
            100% { stroke-dashoffset: 0; fill-opacity: 1; }
        }
        /* 6: と (Outline: 6% -> 14%) */
        @keyframes char06 {
            0%, 6% { stroke-dashoffset: 600; fill-opacity: 0; }
            14% { stroke-dashoffset: 0; fill-opacity: 0; }
            18% { stroke-dashoffset: 0; fill-opacity: 1; }
            100% { stroke-dashoffset: 0; fill-opacity: 1; }
        }

        /* --- Line 2 (Fill: 20% -> 24% for ALL chars) --- */

        /* 7: 蒼 (Outline: 8% -> 16%) */
        @keyframes char07 {
            0%, 8% { stroke-dashoffset: 600; fill-opacity: 0; }
            16% { stroke-dashoffset: 0; fill-opacity: 0; }
            20% { stroke-dashoffset: 0; fill-opacity: 0; }
            24% { stroke-dashoffset: 0; fill-opacity: 1; }
            100% { stroke-dashoffset: 0; fill-opacity: 1; }
        }
        /* 8: 泉 (Outline: 8% -> 16%) */
        @keyframes char08 {
            0%, 8% { stroke-dashoffset: 600; fill-opacity: 0; }
            16% { stroke-dashoffset: 0; fill-opacity: 0; }
            20% { stroke-dashoffset: 0; fill-opacity: 0; }
            24% { stroke-dashoffset: 0; fill-opacity: 1; }
            100% { stroke-dashoffset: 0; fill-opacity: 1; }
        }
        /* 9: と (Outline: 10% -> 18%) */
        @keyframes char09 {
            0%, 10% { stroke-dashoffset: 600; fill-opacity: 0; }
            18% { stroke-dashoffset: 0; fill-opacity: 0; }
            20% { stroke-dashoffset: 0; fill-opacity: 0; }
            24% { stroke-dashoffset: 0; fill-opacity: 1; }
            100% { stroke-dashoffset: 0; fill-opacity: 1; }
        }
        /* 10: 灯 (Outline: 12% -> 20%) */
        @keyframes char10 {
            0%, 12% { stroke-dashoffset: 600; fill-opacity: 0; }
            20% { stroke-dashoffset: 0; fill-opacity: 0; }
            24% { stroke-dashoffset: 0; fill-opacity: 1; }
            100% { stroke-dashoffset: 0; fill-opacity: 1; }
        }
        /* 11: 莉 (Outline: 12% -> 20%) */
        @keyframes char11 {
            0%, 12% { stroke-dashoffset: 600; fill-opacity: 0; }
            20% { stroke-dashoffset: 0; fill-opacity: 0; }
            24% { stroke-dashoffset: 0; fill-opacity: 1; }
            100% { stroke-dashoffset: 0; fill-opacity: 1; }
        }
        /* 12: と (Outline: 14% -> 22%) */
        @keyframes char12 {
            0%, 14% { stroke-dashoffset: 600; fill-opacity: 0; }
            20% { fill-opacity: 0; } /* Fill starts */
            22% { stroke-dashoffset: 0; } /* Outline done */
            24% { stroke-dashoffset: 0; fill-opacity: 1; } /* Fill done */
            100% { stroke-dashoffset: 0; fill-opacity: 1; }
        }
        /* 13: 咲 (Outline: 16% -> 24%) */
        @keyframes char13 {
            0%, 16% { stroke-dashoffset: 600; fill-opacity: 0; }
            20% { fill-opacity: 0; } /* Fill starts */
            24% { stroke-dashoffset: 0; fill-opacity: 1; } /* Outline done & Fill done */
            100% { stroke-dashoffset: 0; fill-opacity: 1; }
        }
        /* 14: 花 (Outline: 16% -> 24%) */
        @keyframes char14 {
            0%, 16% { stroke-dashoffset: 600; fill-opacity: 0; }
            20% { fill-opacity: 0; } /* Fill starts */
            24% { stroke-dashoffset: 0; fill-opacity: 1; } /* Outline done & Fill done */
            100% { stroke-dashoffset: 0; fill-opacity: 1; }
        }

        /* 罫線: 全ての塗りが終わった後 7.5s (30%) から開始 */
        @keyframes borderDraw {
            0%, 30% { stroke-dashoffset: 2400; opacity: 1; }
            38% { stroke-dashoffset: 0; opacity: 1; }
            100% { stroke-dashoffset: 0; opacity: 1; }
        }

        /* フェードアウト: 18s (72%) から */
        @keyframes parentFade {
            0%, 72% { opacity: 1; }
            80%, 100% { opacity: 0; }
        }

    </style>
</head>
<body>

    <div class="card">
        <svg class="outline-svg" viewBox="0 0 1000 300">
            <g class="outline-group">
                <path class="border-line" d="
                    M 40 30
                    L 945 30
                    L 945 280
                    L 40 280
                    Z
                " />

                <text x="60" y="130" class="outline-text">
                    <tspan>風</tspan>
                    <tspan>花</tspan>
                    <tspan style="font-size: 81px;">と</tspan>
                    <tspan>水</tspan>
                    <tspan>月</tspan>
                    <tspan style="font-size: 81px;">と</tspan>
                    
                    <tspan x="60" dy="120">蒼</tspan>
                    <tspan>泉</tspan>
                    <tspan style="font-size: 81px;">と</tspan>
                    <tspan>灯</tspan>
                    <tspan>莉</tspan>
                    <tspan style="font-size: 81px;">と</tspan>
                    <tspan>咲</tspan>
                    <tspan>花</tspan>
                </text>
            </g>
        </svg>
    </div>

</body>
</html>